<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lake Huron Voyage</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to bottom, #0077be, #c0efff);
      color: #fff;
      overflow: hidden;
    }

    header {
      text-align: center;
      padding: 2rem;
      background-color: rgba(0, 51, 102, 0.6);
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    }

    header h1 {
      margin: 0;
      font-size: 2.5rem;
      letter-spacing: 2px;
    }

    .dashboard {
      display: flex;
      justify-content: center;
      align-items: center;
      height: calc(100vh - 120px);
      flex-direction: column;
    }

    .card {
      background-color: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 15px;
      padding: 2rem;
      margin: 1rem;
      width: 90%;
      max-width: 800px;
      text-align: center;
      backdrop-filter: blur(10px);
    }

    #map {
      height: 500px;
      width: 100%;
      border-radius: 15px;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <header>
    <h1>Leaving Lake Huron Voyage - BRIGS</h1>
  </header>

  <div class="dashboard">
    <div class="card">
      <div id="map"></div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    const map = L.map('map').setView([43.5, -81.5], 7);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
    }).addTo(map);

    const points = [
      [44.177833, -81.639861], // Port Kincardine
      [43.8000, -82.0000],     // Mid Lake Huron
      [43.4000, -82.2000],     // Near Goderich
      [43.0000, -82.3000],     // Approaching Sarnia
      [42.9749, -82.4066],     // Sarnia
      [42.7000, -82.6000],     // St. Clair River
      [42.4500, -82.7500],     // Lake St. Clair
      [42.3500, -82.9000],     // Heading to Detroit River
      [42.3000, -83.1000],     // Detroit River
      [42.0006, -82.6645],     // Pelee Island
      [42.2500, -82.5000],     // Lake Erie North
      [42.2000, -81.2000],     // Lake Erie Central
      [42.5000, -80.5000],     // Approaching Port Dover
      [42.7869, -80.1881],     // Port Dover
      [42.8500, -79.8000],     // Toward Port Colborne
      [42.8734, -79.2520]      // Port Colborne
    ];

    const labels = [
      "Day 1 - Port Kincardine",
      "Day 2 - Mid Lake Huron",
      "Day 2 - Near Goderich",
      "Day 2 - Approaching Sarnia",
      "Day 2 - Sarnia - 64.4 Nautical Miles!",
      "Day 3 - St. Clair River",
      "Day 3 - Lake St. Clair",
      "Day 3 - Toward Detroit River",
      "Day 3 - Detroit River - 174.3 Nautical Miles!",
      "Day 4 - Pelee Island - Scenic Stop",
      "Day 4 - Lake Erie North",
      "Day 5 - Lake Erie Central - 228.1 Nautical Miles!",
      "Day 6 - Approaching Port Dover",
      "Day 6 - Port Dover - 317.9 Nautical Miles!",
      "Day 7 - Toward Port Colborne - 326.9 Nautical Miles!",
      "Day 8 - Port Colborne"
    ];

    points.forEach((coord, i) => {
      L.marker(coord).addTo(map).bindPopup(labels[i]);
    });

    L.polyline(points, {
      color: 'red',
      weight: 4,
      opacity: 0.8,
      smoothFactor: 1
    }).addTo(map);

    const shipIcon = L.icon({
      iconUrl: 'https://cdn-icons-png.flaticon.com/512/616/616430.png',
      iconSize: [40, 40],
      iconAnchor: [20, 20],
      popupAnchor: [0, -20],
    });

    const animatedMarker = L.marker(points[0], { icon: shipIcon }).addTo(map);

    let currentIndex = 0;

    function moveMarker() {
      currentIndex++;
      if (currentIndex >= points.length) return;

      animatedMarker.setLatLng(points[currentIndex]);
      animatedMarker.bindPopup(labels[currentIndex]).openPopup();

      setTimeout(moveMarker, 1200); 
    }

    setTimeout(moveMarker, 1200);
  </script>
</body>
</html>
